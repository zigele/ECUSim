import pytest

from did import AsciiCoding


class TestAsciiCoding():
    def test_encode(self):
        asc = AsciiCoding(17)
        assert list(asc.encode("12345678901234567"))==[0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,0x30,0x31,0x32,0x33,0x34,0x35,0x36,0x37]
    def test_init(self):
        asc = AsciiCoding(17)
        with pytest.raises(ValueError):
            assert (asc.encode("1234567890123456"))
    def test_decode(self):
        asc = AsciiCoding(17)
        assert (asc.decode([0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,0x39,0x30,0x31,0x32,0x33,0x34,0x35,0x36,0x37]))=="12345678901234567"
